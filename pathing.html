<!DOCTYPE html>
<html>
	<head>
		<link rel="stylesheet" type="text/css" href="style.css">
	</head>
	<body>
	
	</body>
	<script>
	var doneList = []
	var startingPoint = {location:"0, 0", neighbours: ["10,10", "20,10", "10, 50"]};
	var endPoint = {location:"50, 50", neighbours: ["10,10"]};
	var waypoint1 = {location:"10, 10", neighbours: ["0,0", "20,10"]};
	var waypoint2 = {location:"20, 10", neighbours: ["10,10", "30,10"]};
	var waypoint3 = {location:"30, 10", neighbours: ["20,10", "40,20"]};
	var waypoint4 = {location:"40, 20", neighbours: ["30,10", "50,20"]};
	var waypoints = [];
	waypoints.push(waypoint1);
	waypoints.push(waypoint2);
	waypoints.push(waypoint3);
	waypoints.push(waypoint4);
	
	//Calculate a travel cost irrespective of travel direction
	function findTravelCost(point1, point2){
		var coords1 = point1.split(",");
		var coords2 = point2.split(",");
		var cost = 0;
		
		//Minus x vals, and y vals and add the remainder together
		if(coords1[0] < coords2[0]){
			//if first value is smaller flip so there wont be a negative
			cost = cost + (coords2[0] - coords1[0]);
		}
		else{
			//if second value is smaller flip so there wont be a negative
			cost = cost + (coords1[0] - coords2[0]);
		}
		if(coords1[1] < coords2[1]){
			//if first value is smaller flip so there wont be a negative
			cost = cost + (coords2[1] - coords1[1]);
		}
		else{
			//if second value is smaller flip so there wont be a negative
			cost = cost + (coords1[1] - coords2[1]);
		}
		return cost;
	}
	
	//Find all neighbour points and check costs
	function findNextPointOnPath(origin, destination, waypoints){
		var path = [];
		var currentLoc = origin.location;
		//what if there is more than 1 neighbour ... else statement needed
		if (origin.neighbours.length == 1){
			currentLoc = origin.neighbours[0];
		}
		else{
			var lowestCost = 1000000000;
			var bestNeighbour = null;
			for (neighbour of origin.neighbours){
				console.log(doneList, neighbour);
				if(doneList.includes(neighbour)){
					console.log("Skipped");
				}
				else{
					var ourCost = findTravelCost(origin.location, neighbour);
					var endCost = findTravelCost(destination.location, neighbour);
					var totalCost = ourCost + endCost;
					console.log(neighbour,"totalCost:", totalCost);
					if(totalCost < lowestCost){
						lowestCost = totalCost;
						bestNeighbour = neighbour;
						console.log("origin:", origin.location, "best neighbour:", bestNeighbour, "cost is:", lowestCost);
						doneList.push(bestNeighbour);
						console.log("donelist: ", doneList);
					}
				}
			}				
		}
	}
	
	
	
	findNextPointOnPath(startingPoint, endPoint, waypoints);
	findNextPointOnPath(waypoint1, endPoint, waypoints);
	findNextPointOnPath(waypoint2, endPoint, waypoints);
	findNextPointOnPath(waypoint3, endPoint, waypoints);
	findNextPointOnPath(waypoint4, endPoint, waypoints);
	</script>
</html>
